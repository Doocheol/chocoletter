# TIL(Today I Learn) :fire:

### 2025.01.14

#### 한 일
- 역할 분담
- 릴리즈 날짜 정하기
- ERD 완성

#### 해야 할 일
- 웹소켓 로직 생각해보기
- 프로젝트 세팅하기

### 공부한 것

#### 웹 소켓 연결 과정(간단)

1. A 클라이언트가 서버로 자신의 정보를 보낸다
2. B 클라이언트도 서버로 자신의 정보를 보낸다
3. 둘 다 있을 때, A가 B로 연결 요청을 보낸다
    1. A → 서버로 offer (이 때, 타겟인 B의 아이디 필요)
    2. B → 서버로 answer (이 때, A의 아이디 필요)
    3. A → 서버로 ice-머시기 보냄
    4. B도 보냄
4. 연결 완료!

#### 실제 우리 로직에서는 어떻게 동작할까?

(가정) A와 B가 스페셜 초콜릿을 주고 받았다

 → A가 B에게 줌. 시간은 2시.

1. 1시 55분에 알림 전송(이 때, 별도의 회의실 등의 구축 불필요)
    a. A와 B에게 모두 전송
2. A가 먼저 들어온다고 가정 → session_list에 A의 세션 정보가 추가
    b. 이 때, B가 들어와있는지 체크(별도의 요청 필요)

3-1 . 안들어와있으면, 대기 → 상대방이 안들어와있다는 메시지를 내려줌

3-2. 들어와있으면(위의 체크 상황에서 들어와있다는 메시지를 내려줬으면)

4. 늦게 들어온 사람(A)이 들어와있던 사람에게 offer, B가 A에게 answer, 그 뒤에 ice ~보낸 뒤 연결

