# TIL

### 25-01-23
#### 진행
- 화상통화 배포 환경에서 연결

#### 활동
- **배포한 사이트에서 화상통화 연결**<br/>
  연결에 성공하였습니다!

#### 배운점
연결에 성공하였습니다. 초반 연결 실패의 대부분이 제 오타에서 발생했다는 점이 살짝 아쉬운 하루였습니다.

### 25-01-22
#### 진행
- 화상통화 페이지 제작

#### 활동
- **화상통화 페이지**<br/>
  대기방에서 세션을 생성하고 토큰까지 발급받은 후, 채팅방으로 넘어가서 openvidu 서버에 토큰을 주는 방식으로 계획했었습니다. 이를 뒤엎고 채팅방에서 세션 생성부터 화상채팅까지 모두 이루어지도록 변경했습니다.

#### 배운점
대기방에 입장한 사람의 수를 판단해야 했습니다. openvidu에서 제공하는 REST API에는 연결된 사람의 수를 구할 수 있는 API가 존재했습니다. 이를 이용하여 참가한 사람의 수를 구하고자 하였지만,
  1. 연결된 사람의 수는 토큰까지 발급받은 사람에 한해서 알 수 있음
  2. 토큰을 보안의 이유로 2명이 모여 채팅방으로 넘어가기 전 발급받도록 되어있었으므로 사실상 해당 API를 이용할 수 없었음
  3. 추가로 대기방에서 발급받은 토큰이 채팅방에서 인식되지 못하였음

<br/>과 같은 문제가 발생했었습니다. 세션은 대기방에서 만드는 목적인 인원 확인이 불가능해진 시점에서 기존 로직을 수정해야 했습니다.
<br/>그래서 채팅방에서 화상채팅 연결과 관련한 모든 작업이 이루어지도록 설정하고, 참가 인원 확인은 대기방에서 백엔드에서 제공하는 API를 이용하되, API가 아직 없기에 개발환경에서 화상채팅 테스트를 위해 5초 후 임의로 넘어가는 방식으로 변경하게 되었습니다. 처음 설계할 때 더 단단하게 했으면 좋았을 수도 있지만, 기존 로직이 실패할 것이라 예측하기 힘들었습니다. 중간에 해당 과정의 코드를 모두 갈아 엎어서 힘들기는 했지만, 설계의 변경을 체험(?)해 볼 수 있는 시간이었습니다.

### 25-01-21
#### 진행
- 화상채팅 입장 및 퇴장 구현

#### 활동
- **화상채팅 입퇴장 구현**<br/>
  localstorage를 이용해 개발 모드에서 2명(탭 2개)이 들어오면 입장되도록 설정하고, 시간이 종료되거나 한쪽이 통화를 종료하면 해당 방의 모든 사람이 통화 종료되도록 설정했습니다.

#### 배운점
화상채팅 대기방에 3초마다 안내문구들이 출력되도록 설정했습니다. 그 과정에서 copilot이 문구를 저장한 comment 배열에 문제를 제기했고 자동으로 useMemo()를 사용하여 바꿔주었는데, 해당 훅이 무엇인지 제대로 알지 못하고 사용하였습니다. 당시에는 openvidu 기능 구현에 집중하다보니 그냥 고쳐진대로 사용했는데, 컨설턴트 님의 코드리뷰로 찾아봐야겠다는 생각이 들었습니다.<br/>
useMemo는 계산이 사용되는 값이 변경되었을 경우에만 재실행시켜주는 훅이었습니다. 복잡한 계산인데, 값은 값이 입력되고 출력되는 상황에서 계속 돌아간다면 메모리 낭비일 것입니다. 이를 방지하기 위해 사용하는 것이 일반적이므로, 단순히 문자열을 저장한 제 배열에는 사용할 이유가 전혀 없는 상황이었습니다.<br/>
useMemo를 작성해준 이유는 3초마다 배열에 있는 문구를 순서대로 출력하므로, 마지막 출력된 문장을 기억하기 위함이지 않을까 싶습니다. 하지만 전혀 그럴 필요가 없습니다. 방에 들어와도 첫번째 문장부터 출력해주면 되고, 사용자들이 이 페이지에 들어오는 것은 단 한번입니다. 그래서 useMemo를 지우고 comment 배열을 전역으로 이동시켜 주었습니다.

### 25-01-20
#### 진행
#### 활동
#### 배운점

### 25-01-16
#### 진행
(In-ssafy)
- 디렉토리 구조 결정
- Jira에 태스크 등록

(Out-ssafy)
- Figma 개발친화 특강

#### 상세 활동
- **디렉토리 구조 결젇**<br/>
  드디어 길고 길었던 구조 설정이 끝났습니다. 사용할 파일까지 모두 정하였습니다.
- **Figma 특강**<br/>
  레이아웃의 소개, 스위치와 칩 컴포넌트의 설계 시 지켜야할 점을 배웠습니다.

#### 배운점
- 관통 때는 기획을 제대로 하지 않았음을 느끼게 되는 한 주였습니다. 실제 개발에서의 기획단계는 정말 고려해야 될 것이 많구나 느꼈습니다.
- Switch는 오로지 On/Off 기능에서만 사용해야 하며, Chip은 On/Off 뿐만 아니라 팝업 메뉴 버튼으로써도 사용 가능하다 등의 어쩌면 기본적인 것들이었습니다. 그러나 단순히 저 컴포넌트들이 사용되는 부분이 아닌, 이렇게 디자인에서는 약속된 사항이 있고 지켜야한다는 점이 메인이었습니다.

### 25-01-15
#### 진행
(In-ssafy)
- 기획 수정
- 와이어프레임 수정

(Out-ssafy)
- React 기본 공부

#### 상세 활동
- **기획 관련**<br/>
  기존 서비스 플로우가 상당히 변경되었습니다. 14일 높은 참여를 위해선 14일 당일의 큰 이벤트와 함께, 해당일 까지의 Attention을 유지시키는 것이 중점이라 판단했습니다. 그에 따라 초콜릿 편지 열람 시기를 조정하고, 몇가지 이벤트를 14일에 추가하였습니다. 이에 따른 와이어프레임 수정이 동반되었습니다.
- **React 공부**<br/>
  개인적으로 React 기본 강의의 일부를 들었습니다.

#### 배운 점
- 생각보다 기획과 관련 팀원과의 소통이 완벽히 되지 않았음을 확인했습니다. 스스로도 그렇고 서비스 방식과 관련하여 의견이 다른 부분도 상당했고, 14(화) 컨설턴트님과 코치님들과의 회의를 통해 개선해야할 부분에 대해서도 의견 차이가 있었습니다. 오히려 이번 기회로 모두가 진솔하게 방식을 얘기하면서 좀더 탄탄해진 것 같아서 좋은 경험이 된 것 같습니다.
- vite와 next.js를 이용한 React 설치방법, React에서 props로 데이터를 하위 jsx 파일로 전송하는 방법, css 적용방법과 통용되는 React 파일 컨벤션(파일명은 파스칼, 함수명은 카멜) 등의 내용을 학습하였습니다.

### 25-01-14
#### 진행
  (In-ssafy)
  - 와이어프레임 1차 마무리리
  - 초콜릿 박스 공유 및 이벤트 부분 디렉토리 구성
 
  (Out-ssafy)
  - Figma 개발친화 특강

#### 상세 활동
- **와이어프레임 1차 작성**<br/>
  전반적인 와이어프레임을 완성하였습니다. 추후 팀원 확인을 통해 수정할 계획입니다.
- **Figma 강의**<br/>
  19:30 ~ 21:30 : Figma 개발친화 강의를 들었습니다.

#### 배운 점
- 아토믹 디자인의 개념을 알 수 있었습니다. 하나의 컴포넌트는 하나의 기능을 가지며, 컴포넌트들을 조합하고, 그 조합된 하나의 파트(molecules)들을 조합하고, 조합하여 최종적인 html 틀을 만들어내는 Bottom-Up의 방식이었습니다. 컴포넌트부터 만들어낸다는 점은 디렉토리 구조를 설정할 때도 유사한 방식으로 하고 있어 도움이 될 것이라 판단됩니다.  

### 25-01-13
#### 진행
  (In-ssafy)
  - 와이어프레임 작정
  
  (Out-ssafy)
  - 웹소켓 작동방식

#### 상세 활동
- **와이어프레임 작성**<br/>
  주말에 마무리하지 못했던 와이어프레임을 이어서 작성하였습니다. 디자인 요소는 배제하고 컴포넌트들을 배치하는 정도로 마무리 하였습니다.
- **웹소켓 작동방식 확인**<br/>
  팀장님께 웹소켓을 통해 연결이 진행되는 방식과 우리 프로젝트에 적용되었을 때 추가로 고려해야 하는 점을 확인하였습니다.
